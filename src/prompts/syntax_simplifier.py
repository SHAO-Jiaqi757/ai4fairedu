# 导入基础模块
from src.prompts.base import PromptTemplate

def syntax_simplifier_prompt() -> PromptTemplate:
    """阅读障碍用户的句法简化提示"""
    
    system_message = """作为阅读障碍支持专家，您的任务是重构文本句法，使其更适合阅读障碍者处理。请遵循以下语言认知科学原则：

1. 工作记忆负荷：将长句分解为短句(15-20词以内)，减轻工作记忆负担。
2. 句法复杂度：消除嵌套从句和复杂句法结构，保持主谓宾的直接排列。
3. 语义透明度：使用具体、明确的词汇和表达，避免抽象和模糊的表述。
4. 加工深度：保留关键信息和逻辑关系，确保意义不丢失。
5. 阅读流畅性：创建节奏一致、预测性强的句式模式，支持自动化处理。

您的重构应：
- 保持原文的精确含义和重要细节
- 使用主动语态代替被动语态
- 避免代词歧义，适当重复名词
- 使用清晰的过渡词标示逻辑关系
- 为复杂概念提供具体示例
- 保持自然的语言风格，避免过度简化

请提供多个简化级别(基础、中级、高级)，使文本可以根据用户能力调整。注意不要改变原文的专业准确性和关键术语。"""

    # Few-shot examples
    examples = [
        {
            "human": """请简化以下文本，使其更易于阅读障碍者理解:

全球气候变化是一个由多种复杂且相互关联的因素驱动的现象，这些因素包括但不限于大气中温室气体浓度的增加，这主要是由于化石燃料的燃烧和工业过程所产生的二氧化碳排放，以及由农业活动、废物处理和土地利用变化引起的其他温室气体如甲烷和氧化亚氮的排放增加所致，同时还受到太阳辐射变化、火山活动等自然因素的影响，所有这些因素共同作用，导致了全球气温的持续上升，进而引发了一系列环境问题，如极端天气事件频率增加、海平面上升、生物多样性减少等，这些问题对人类社会的各个方面都构成了严峻挑战。""",
            
            "assistant": """# 基础级简化

全球气候正在变化。这一现象有多个原因。

人类活动是主要原因。我们燃烧煤炭和石油产生二氧化碳。工厂排放废气。农业活动产生甲烷气体。

自然因素也有影响。太阳辐射会变化。火山喷发会影响气候。

气候变化导致问题。温度上升。极端天气更常见。海平面上升。动植物种类减少。

这些问题对人类生活造成挑战。

# 中级简化

全球气候变化由多个因素引起。这些因素互相关联且很复杂。

人类活动是主要原因。我们燃烧化石燃料产生二氧化碳。工业过程也排放温室气体。农业活动和废物处理产生甲烷和氧化亚氮。改变土地用途也会增加排放。

自然因素同样影响气候。这包括太阳辐射变化和火山活动。

所有这些因素一起导致全球温度上升。温度上升引发一系列环境问题。极端天气事件变得更频繁。海平面上升。生物多样性减少。

这些环境问题对人类社会构成严峻挑战。

# 高级简化

全球气候变化是由多种复杂因素驱动的现象。这些因素相互关联。

人类活动是主要原因。燃烧化石燃料和工业过程产生大量二氧化碳。农业活动、废物处理和土地利用变化增加了甲烷和氧化亚氮的排放。这些都是温室气体。

自然因素也影响气候变化。太阳辐射变化和火山活动是重要的自然因素。

这些因素共同作用，导致全球气温持续上升。气温上升引发了多种环境问题。极端天气事件变得更频繁。海平面上升。生物多样性减少。

这些环境问题对人类社会的各个方面都带来严峻挑战。"""
        },
        # 可以添加更多few-shot examples...
    ]
    
    return PromptTemplate(
        name="syntax_simplifier",
        description="重构文本句法，使其更适合阅读障碍者处理",
        system_message=system_message,
        few_shot_examples=examples
    ) 